[?1000h[?1049h[?1h=[1;62r[23m[24m[0m[37m[H[J[?25l[62;1H"prob253_普通平衡树1.cpp" 359L, 8720C[1;2H26     [38;5;229m{[0m[37m
 27     [30m[48;5;242m [0m[37m   delete_sub_tree[38;5;159m([0m[37mroot[38;5;159m)[0m[37m;
 28     [38;5;229m}[0m[37m
 29
 30     [1m[38;5;136mvoid[0m[37m insert[38;5;229m([0m[37m[1m[38;5;136mint[0m[37m val[38;5;229m)[0m[37m
 31     [38;5;229m{[0m[37m
 32     [30m[48;5;242m [0m[37m   insert[38;5;159m([0m[37mval[38;5;159m,[0m[37m root[38;5;159m)[0m[37m;
 33     [38;5;229m}[0m[37m
 34
 35     [1m[38;5;136mvoid[0m[37m remove[38;5;229m([0m[37m[1m[38;5;136mint[0m[37m val[38;5;229m)[0m[37m
 36     [38;5;229m{[0m[37m
 37     [30m[48;5;242m [0m[37m   remove[38;5;159m([0m[37mval[38;5;159m,[0m[37m root[38;5;159m)[0m[37m;
 38     [38;5;229m}[0m[37m
 39
 40     [1m[38;5;136mint[0m[37m lessthan[38;5;229m([0m[37m[1m[38;5;136mint[0m[37m val[38;5;229m)[0m[37m
 41     [38;5;229m{[0m[37m
 42     [30m[48;5;242m [0m[37m   [1m[38;5;64mreturn[0m[37m lessthan[38;5;159m([0m[37mval[38;5;159m,[0m[37m root[38;5;159m)[0m[37m;
 43     [38;5;229m}[0m[37m
 44
 45     [1m[38;5;136mint[0m[37m get_value[38;5;229m([0m[37m[1m[38;5;136mint[0m[37m rank[38;5;229m)[0m[37m
 46     [38;5;229m{[0m[37m
 47     [30m[48;5;242m [0m[37m   [1m[38;5;64mreturn[0m[37m get_value[38;5;159m([0m[37mrank[38;5;159m,[0m[37m root[38;5;159m)[0m[37m;
 48     [38;5;229m}[0m[37m
 49
 50     [1m[38;5;136mstruct[0m[37m Coord
 51     [38;5;229m{[0m[37m
 52     [30m[48;5;242m [0m[37m   [1m[38;5;136mint[0m[37m x;
 53     [30m[48;5;242m [0m[37m   [1m[38;5;136mint[0m[37m y;
 54     [30m[48;5;242m [0m[37m   Coord[38;5;159m(){}[0m[37m
 55     [30m[48;5;242m [0m[37m   Coord[38;5;159m([0m[37m[1m[38;5;136mint[0m[37m x[38;5;159m,[0m[37m [1m[38;5;136mint[0m[37m y[38;5;159m)[0m[37m:x[38;5;159m([0m[37mx[38;5;159m)[0m[37m[38;5;229m,[0m[37my[38;5;159m([0m[37my[38;5;159m){}[0m[37m
 56     [38;5;229m}[0m[37m;
 57
 58     [1m[38;5;136mvoid[0m[37m show[38;5;229m()[0m[37m
 59     [38;5;229m{[0m[37m
 60     [30m[48;5;242m [0m[37m   unordered_map<TreapNode*[38;5;229m,[0m[37m Coord> mapping;
 61     [30m[48;5;242m [0m[37m   [1m[38;5;136mint[0m[37m max_depth = [1m[36m0[0m[37m;
[93m 62 [0m[37m[48;5;235m    [0m[37m[30m[48;5;242m [0m[37m[48;5;235m   [0m[37m[1m[35m[48;5;235m// [0m[37m[1m[4m[35m[48;5;235m对于最大深度[24m[0m[37m[1m[35m[48;5;235m max_depth ([0m[37m[1m[4m[35m[48;5;235m从[24m[0m[37m[1m[35m[48;5;235m 0 [0m[37m[1m[4m[35m[48;5;235m开始[24m[0m[37m[1m[35m[48;5;235m)，y [0m[37m[1m[4m[35m[48;5;235m从零往右可以到[24m[0m[37m[1m[35m[48;5;235m po[0m[37m[1m[38;5;240m#[0m[37m[38;2H63     [30m[48;5;242m [0m[37m   [1m[35m// [0m[37m[1m[4m[35m也就是[24m[0m[37m[1m[35m root [0m[37m[1m[4m[35m的[24m[0m[37m[1m[35m y [0m[37m[1m[4m[35m值范围为[24m[0m[37m[1m[35m [-pow(2, max_depth) + 1, pow([0m[37m[1m[38;5;240m#[0m[37m[39;2H64     [30m[48;5;242m [0m[37m   [1m[35m// [0m[37m[1m[4m[35m如果当前节点[24m[0m[37m[1m[35m node [0m[37m[1m[4m[35m的范围为[24m[0m[37m[1m[35m [l, r]，[0m[37m[1m[4m[35m则当前节点的[24m[0m[37m[1m[35m y [0m[37m[1m[4m[35m值为[24m[0m[37m[1m[35m [0m[37m[1m[38;5;240m#[0m[37m[40;2H65     [30m[48;5;242m [0m[37m   [1m[35m// node -> left [0m[37m[1m[4m[35m对应的范围为[24m[0m[37m[1m[35m [l, (l + r)/2 - 1][0m[37m
 66     [30m[48;5;242m [0m[37m   [1m[35m// node -> right [0m[37m[1m[4m[35m对应的范围为[24m[0m[37m[1m[35m [(l + r)/2 + 1, r][0m[37m
 67     [30m[48;5;242m [0m[37m   dfs1[38;5;159m([0m[37mroot[38;5;159m,[0m[37m mapping[38;5;159m,[0m[37m [1m[36m0[0m[37m[38;5;159m,[0m[37m max_depth[38;5;159m)[0m[37m;
 68     [30m[48;5;242m [0m[37m   string default_str = [1m[36m"    "[0m[37m;
 69     [30m[48;5;242m [0m[37m   vector<vector<string>> visual_board[38;5;159m([0m[37mmax_depth + [1m[36m1[0m[37m[38;5;159m,[0m[37m vector<[1m[38;5;240m#[0m[37m[45;2H70     [30m[48;5;242m [0m[37m   dfs2[38;5;159m([0m[37mroot[38;5;159m,[0m[37m mapping[38;5;159m,[0m[37m [1m[36m0[0m[37m[38;5;159m,[0m[37m pow[38;5;225m([0m[37m[1m[36m2[0m[37m[38;5;225m,[0m[37m max_depth + [1m[36m1[0m[37m[38;5;225m)[0m[37m - [1m[36m2[0m[37m[38;5;159m)[0m[37m;
 71     [30m[48;5;242m [0m[37m   [1m[38;5;64mfor[0m[37m[38;5;159m([0m[37m[1m[38;5;136mconst[0m[37m [1m[38;5;136mauto[0m[37m& node_info: mapping[38;5;159m)[0m[37m
 72     [30m[48;5;242m [0m[37m   [38;5;159m{[0m[37m
 73     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   TreapNode *node = node_info.first;
 74     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   Coord coord = node_info.second;
 75     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   visual_board[38;5;225m[[0m[37mcoord.x[38;5;225m][[0m[37mcoord.y[38;5;225m][0m[37m = to_string[38;5;225m([0m[37mnode -> val[1m[38;5;240m#[0m[37m[51;2H76     [30m[48;5;242m [0m[37m   [38;5;159m}[0m[37m
 77     [30m[48;5;242m [0m[37m   [1m[38;5;64mfor[0m[37m[38;5;159m([0m[37m[1m[38;5;136mint[0m[37m i = [1m[36m0[0m[37m; i <= max_depth; ++i[38;5;159m)[0m[37m
 78     [30m[48;5;242m [0m[37m   [38;5;159m{[0m[37m
 79     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   [1m[38;5;64mfor[0m[37m[38;5;225m([0m[37m[1m[38;5;136mint[0m[37m j = [1m[36m0[0m[37m; j <= pow[38;5;81m([0m[37m[1m[36m2[0m[37m[38;5;81m,[0m[37m max_depth + [1m[36m1[0m[37m[38;5;81m)[0m[37m - [1m[36m2[0m[37m; ++j[38;5;225m)[0m[37m
 80     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   [38;5;225m{[0m[37m
 81     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   [30m[48;5;242m [0m[37m   cout << visual_board[38;5;81m[[0m[37mi[38;5;81m][[0m[37mj[38;5;81m][0m[37m;
 82     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   [38;5;225m}[0m[37m
 83     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   cout << endl;
 84     [30m[48;5;242m [0m[37m   [38;5;159m}[0m[37m
 85     [38;5;229m}[0m[37m
[1m[38;5;230m[48;5;245m N…[61;4H  SPELL [0m[37m[38;5;245m[48;5;241m›[0m[37m[38;5;241m[48;5;235m›[0m[37m[38;5;240m[48;5;235m [0m[37m[1m prob253_普通平衡树1.cpp  [0m[37m[38;5;240m[48;5;235m      [0m[37m[38;5;235m[48;5;235m‹[0m[37m[38;5;240m[48;5;235m cpp [0m[37m[38;5;241m[48;5;235m‹[0m[37m[38;5;245m[48;5;241m‹[0m[37m[38;5;230m[48;5;245m  17% [0m[37m[1m[38;5;230m[48;5;245m☰   62[0m[37m[38;5;230m[48;5;245m: 16 [0m[37m[62;1H[1m[38;5;124mTraceback (most recent call last):[0m[37m[62;35H[K[62;1H[1m[38;5;124m  File "<string>", line 61, in <module>[62;9H/home/ppp/.vim/bundl...se.py", line 23, in <module>    from builtins import *  # noqa[0m[37m[62;35H[K[62;3H[1m[38;5;124mFile "/home/ppp/.vim/bundl...t__.py", line 8, in <module>    from future.builtins import *[0m[37m[62;34H[K[62;3H[1m[38;5;124mFile "/home/ppp/.vim/bundl...__.py", line 13, in <module>    from future.builtins.mis...ex, input, isinstance, next,  File "/home/ppp/.vim/bundl...sc.py", line 44, in <module>    from future_builtins import ascii, oct, hex[0m[37m[62;48H[K[62;1H[1m[38;5;124mImportError: /usr/lib/python...ined symbol: PyNumber_ToBaseYouCompleteMe unavailable: /usr/lib/python2.7/lib-dynload/future_built[0m[37m
[61;71H[1m[38;5;124mi[62;1Hns.x86_64-linux-gnu.so: undefined symbol: PyNumber_ToBase[?1000l[0m[37m
[1m[38;5;37mPress ENTER or type command to continue[34h[?25h[?1000h[0m[37m
[?25l[7m[38;5;124mError detected while processing function youcompleteme#Enable[3]..<SNR[0m[37m
[61;71H[7m[38;5;124m>[62;1H170_SetUpPython:[0m[37m
line   78:
[7m[38;5;124mTraceback (most recent call last):[?1000l[0m[37m
[1m[38;5;37mPress ENTER or type command to continue[34h[?25h[?1000h[0m[37m
[?25l[7m[38;5;124mError detected while processing function youcompleteme#Enable[3]..<SNR[0m[37m
[61;71H[7m[38;5;124m>[62;1H170_SetUpPython:[0m[37m
line   78:
[7m[38;5;124m  File "<string>", line 72, in <module>[?1000l[0m[37m
Interrupt: [1m[38;5;37mPress ENTER or type command to continue[34h[?25h[?1000h[0m[37m
[?25l[7m[38;5;124mError detected while processing function youcompleteme#Enable[3]..<SNR[0m[37m
[61;71H[7m[38;5;124m>[62;1H170_SetUpPython:[0m[37m
line   78:
[7m[38;5;124mKeyboardInterrupt[?1000l[0m[37m
Interrupt: [1m[38;5;37mPress ENTER or type command to continue[34h[?25h[?1000h[0m[37m[1;1H[17L[?25l[1;4H26     [38;5;229m{[0m[37m
   27     [30m[48;5;242m [0m[37m   delete_sub_tree[38;5;159m([0m[37mroot[38;5;159m)[0m[37m;
   28     [38;5;229m}[0m[37m
   29
   30     [1m[38;5;136mvoid[0m[37m insert[38;5;229m([0m[37m[1m[38;5;136mint[0m[37m val[38;5;229m)[0m[37m
   31     [38;5;229m{[0m[37m
   32     [30m[48;5;242m [0m[37m   insert[38;5;159m([0m[37mval[38;5;159m,[0m[37m root[38;5;159m)[0m[37m;
   33     [38;5;229m}[0m[37m
   34
   35     [1m[38;5;136mvoid[0m[37m remove[38;5;229m([0m[37m[1m[38;5;136mint[0m[37m val[38;5;229m)[0m[37m
   36     [38;5;229m{[0m[37m
   37     [30m[48;5;242m [0m[37m   remove[38;5;159m([0m[37mval[38;5;159m,[0m[37m root[38;5;159m)[0m[37m;
   38     [38;5;229m}[0m[37m
   39
   40     [1m[38;5;136mint[0m[37m lessthan[38;5;229m([0m[37m[1m[38;5;136mint[0m[37m val[38;5;229m)[0m[37m
   41     [38;5;229m{[0m[37m
   42     [30m[48;5;242m [0m[37m   [1m[38;5;64mreturn[0m[37m lessthan[38;5;159m([0m[37mval[38;5;159m,[0m[37m root[38;5;159m)[0m[37m;
   43     [38;5;229m}[0m[37m
   44
   45     [1m[38;5;136mint[0m[37m get_value[38;5;229m([0m[37m[1m[38;5;136mint[0m[37m rank[38;5;229m)[0m[37m
   46     [38;5;229m{[0m[37m
   47     [30m[48;5;242m [0m[37m   [1m[38;5;64mreturn[0m[37m get_value[38;5;159m([0m[37mrank[38;5;159m,[0m[37m root[38;5;159m)[0m[37m;
   48     [38;5;229m}[0m[37m
   49
[38;5;64m[48;5;235m+ [0m[37m 50     [1m[38;5;136mstruct[0m[37m Coord
[38;5;64m[48;5;235m+ [0m[37m 51     [38;5;229m{[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 52     [30m[48;5;242m [0m[37m   [1m[38;5;136mint[0m[37m x;
[38;5;64m[48;5;235m+ [0m[37m 53     [30m[48;5;242m [0m[37m   [1m[38;5;136mint[0m[37m y;
[38;5;64m[48;5;235m+ [0m[37m 54     [30m[48;5;242m [0m[37m   Coord[38;5;159m(){}[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 55     [30m[48;5;242m [0m[37m   Coord[38;5;159m([0m[37m[1m[38;5;136mint[0m[37m x[38;5;159m,[0m[37m [1m[38;5;136mint[0m[37m y[38;5;159m)[0m[37m:x[38;5;159m([0m[37mx[38;5;159m)[0m[37m[38;5;229m,[0m[37my[38;5;159m([0m[37my[38;5;159m){}[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 56     [38;5;229m}[0m[37m;
[38;5;64m[48;5;235m+ [0m[37m 57
[38;5;64m[48;5;235m+ [0m[37m 58     [1m[38;5;136mvoid[0m[37m show[38;5;229m()[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 59     [38;5;229m{[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 60     [30m[48;5;242m [0m[37m   unordered_map<TreapNode*[38;5;229m,[0m[37m Coord> mapping;
[38;5;64m[48;5;235m+ [0m[37m 61     [30m[48;5;242m [0m[37m   [1m[38;5;136mint[0m[37m max_depth = [1m[36m0[0m[37m;
[38;5;64m[48;5;235m+ [0m[37m[93m 62 [0m[37m[2C[48;5;235m [0m[37m[1C[30m[48;5;242m [0m[37m[1C[48;5;235m  [0m[37m[1m[35m[48;5;235m// [0m[37m[1m[4m[35m[48;5;235m对于最大深度[24m[0m[37m[1m[35m[48;5;235m max_depth ([0m[37m[1m[4m[35m[48;5;235m从[24m[0m[37m[1C[1m[35m[48;5;235m0 [0m[37m[1m[4m[35m[48;5;235m开始[24m[0m[37m[1m[35m[48;5;235m)，y [0m[37m[1m[4m[35m[48;5;235m从零往右可以到[24m[0m[37m[1m[35m[48;5;235m [0m[37m
[38;5;64m[48;5;235m+ [0m[37m 63     [30m[48;5;242m [0m[37m   [1m[35m// [0m[37m[1m[4m[35m也就是[24m[0m[37m[1m[35m root [0m[37m[1m[4m[35m的[24m[0m[37m[1C[1m[35my [0m[37m[1m[4m[35m值范围为[24m[0m[37m[1m[35m [-pow(2, max_depth) + 1, po[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 64     [30m[48;5;242m [0m[37m   [1m[35m// [0m[37m[1m[4m[35m如果当前节点[24m[0m[37m[1m[35m node [0m[37m[1m[4m[35m的范围为[24m[0m[37m[1m[35m [l, r]，[0m[37m[1m[4m[35m则当前节点的[24m[0m[37m[1C[1m[35my [0m[37m[1m[4m[35m值为[24m[0m[37m[40;1H[38;5;64m[48;5;235m+ [0m[37m 65     [30m[48;5;242m [0m[37m   [1m[35m// node -> left [0m[37m[1m[4m[35m对应的范围为[24m[0m[37m[1m[35m [l, (l + r)/2 - 1][0m[37m
[38;5;64m[48;5;235m+ [0m[37m 66     [30m[48;5;242m [0m[37m   [1m[35m// node -> right [0m[37m[1m[4m[35m对应的范围为[24m[0m[37m[1m[35m [(l + r)/2 + 1, r][0m[37m
[38;5;64m[48;5;235m+ [0m[37m 67     [30m[48;5;242m [0m[37m   dfs1[38;5;159m([0m[37mroot[38;5;159m,[0m[37m mapping[38;5;159m,[0m[37m [1m[36m0[0m[37m[38;5;159m,[0m[37m max_depth[38;5;159m)[0m[37m;
[38;5;64m[48;5;235m+ [0m[37m 68     [30m[48;5;242m [0m[37m   string default_str = [1m[36m"    "[0m[37m;
[38;5;64m[48;5;235m+ [0m[37m 69     [30m[48;5;242m [0m[37m   vector<vector<string>> visual_board[38;5;159m([0m[37mmax_depth + [1m[36m1[0m[37m[38;5;159m,[0m[37m vecto
[38;5;64m[48;5;235m+ [0m[37m 70     [30m[48;5;242m [0m[37m   dfs2[38;5;159m([0m[37mroot[38;5;159m,[0m[37m mapping[38;5;159m,[0m[37m [1m[36m0[0m[37m[38;5;159m,[0m[37m pow[38;5;225m([0m[37m[1m[36m2[0m[37m[38;5;225m,[0m[37m max_depth + [1m[36m1[0m[37m[38;5;225m)[0m[37m - [1m[36m2[0m[37m[38;5;159m)[0m[37m;
[38;5;64m[48;5;235m+ [0m[37m 71     [30m[48;5;242m [0m[37m   [1m[38;5;64mfor[0m[37m[38;5;159m([0m[37m[1m[38;5;136mconst[0m[37m [1m[38;5;136mauto[0m[37m& node_info: mapping[38;5;159m)[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 72     [30m[48;5;242m [0m[37m   [38;5;159m{[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 73     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   TreapNode *node = node_info.first;
[38;5;64m[48;5;235m+ [0m[37m 74     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   Coord coord = node_info.second;
[38;5;64m[48;5;235m+ [0m[37m 75     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   visual_board[38;5;225m[[0m[37mcoord.x[38;5;225m][[0m[37mcoord.y[38;5;225m][0m[37m = to_string[38;5;225m([0m[37mnode -> v
[38;5;64m[48;5;235m+ [0m[37m 76     [30m[48;5;242m [0m[37m   [38;5;159m}[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 77     [30m[48;5;242m [0m[37m   [1m[38;5;64mfor[0m[37m[38;5;159m([0m[37m[1m[38;5;136mint[0m[37m i = [1m[36m0[0m[37m; i <= max_depth; ++i[38;5;159m)[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 78     [30m[48;5;242m [0m[37m   [38;5;159m{[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 79     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   [1m[38;5;64mfor[0m[37m[38;5;225m([0m[37m[1m[38;5;136mint[0m[37m j = [1m[36m0[0m[37m; j <= pow[38;5;81m([0m[37m[1m[36m2[0m[37m[38;5;81m,[0m[37m max_depth + [1m[36m1[0m[37m[38;5;81m)[0m[37m - [1m[36m2[0m[37m; ++j[38;5;225m)[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 80     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   [38;5;225m{[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 81     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   [30m[48;5;242m [0m[37m   cout << visual_board[38;5;81m[[0m[37mi[38;5;81m][[0m[37mj[38;5;81m][0m[37m;
[38;5;64m[48;5;235m+ [0m[37m 82     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   [38;5;225m}[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 83     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   cout << endl;
[38;5;64m[48;5;235m+ [0m[37m 84     [30m[48;5;242m [0m[37m   [38;5;159m}[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 85     [38;5;229m}[0m[37m[61;16H[1m1:prob253_普通平衡树1.cpp  [0m[37m[62;1H[K[37;22H[34h[?25h[?25l[62;1H[1m[38;5;124m1:prob253_普通平衡树1.cpp [37;22H[34h[?25h[?25l[0m[37m[62;1HType  :qa  and press <Enter> to exit Vim[37;22H[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[23m[24m[0m[37m[H[J[?25l[1;4H45     [1m[38;5;136mint[0m[37m get_value[38;5;229m([0m[37m[1m[38;5;136mint[0m[37m rank[38;5;229m)[0m[37m
   46     [38;5;229m{[0m[37m
   47     [30m[48;5;242m [0m[37m   [1m[38;5;64mreturn[0m[37m get_value[38;5;159m([0m[37mrank[38;5;159m,[0m[37m root[38;5;159m)[0m[37m;
   48     [38;5;229m}[0m[37m
   49
[38;5;64m[48;5;235m+ [0m[37m 50     [1m[38;5;136mstruct[0m[37m Coord
[38;5;64m[48;5;235m+ [0m[37m 51     [38;5;229m{[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 52     [30m[48;5;242m [0m[37m   [1m[38;5;136mint[0m[37m x;
[38;5;64m[48;5;235m+ [0m[37m 53     [30m[48;5;242m [0m[37m   [1m[38;5;136mint[0m[37m y;
[38;5;64m[48;5;235m+ [0m[37m 54     [30m[48;5;242m [0m[37m   Coord[38;5;159m(){}[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 55     [30m[48;5;242m [0m[37m   Coord[38;5;159m([0m[37m[1m[38;5;136mint[0m[37m x[38;5;159m,[0m[37m [1m[38;5;136mint[0m[37m y[38;5;159m)[0m[37m:x[38;5;159m([0m[37mx[38;5;159m)[0m[37m[38;5;229m,[0m[37my[38;5;159m([0m[37my[38;5;159m){}[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 56     [38;5;229m}[0m[37m;
[38;5;64m[48;5;235m+ [0m[37m 57
[38;5;64m[48;5;235m+ [0m[37m 58     [1m[38;5;136mvoid[0m[37m show[38;5;229m()[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 59     [38;5;229m{[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 60     [30m[48;5;242m [0m[37m   unordered_map<TreapNode*[38;5;229m,[0m[37m Coord> mapping;
[38;5;64m[48;5;235m+ [0m[37m 61     [30m[48;5;242m [0m[37m   [1m[38;5;136mint[0m[37m max_depth = [1m[36m0[0m[37m;
[38;5;64m[48;5;235m+ [0m[37m[93m 62 [0m[37m[48;5;235m    [0m[37m[30m[48;5;242m [0m[37m[48;5;235m   [0m[37m[1m[35m[48;5;235m// [0m[37m[1m[4m[35m[48;5;235m对于最大深度[24m[0m[37m[1m[35m[48;5;235m max_depth ([0m[37m[1m[4m[35m[48;5;235m从[24m[0m[37m[1m[35m[48;5;235m 0 [0m[37m[1m[4m[35m[48;5;235m开始[24m[0m[37m[1m[35m[48;5;235m)，y [0m[37m[1m[4m[35m[48;5;235m从零往右可以到[24m[0m[37m[1m[35m[48;5;235m [0m[37m[1m[38;5;240m#[0m[37m[19;1H[38;5;64m[48;5;235m+ [0m[37m 63     [30m[48;5;242m [0m[37m   [1m[35m// [0m[37m[1m[4m[35m也就是[24m[0m[37m[1m[35m root [0m[37m[1m[4m[35m的[24m[0m[37m[1m[35m y [0m[37m[1m[4m[35m值范围为[24m[0m[37m[1m[35m [-pow(2, max_depth) + 1, po[0m[37m[1m[38;5;240m#[0m[37m[20;1H[38;5;64m[48;5;235m+ [0m[37m 64     [30m[48;5;242m [0m[37m   [1m[35m// [0m[37m[1m[4m[35m如果当前节点[24m[0m[37m[1m[35m node [0m[37m[1m[4m[35m的范围为[24m[0m[37m[1m[35m [l, r]，[0m[37m[1m[4m[35m则当前节点的[24m[0m[37m[1m[35m y [0m[37m[1m[4m[35m值为[24m[0m[37m[21;1H[38;5;64m[48;5;235m+ [0m[37m 65     [30m[48;5;242m [0m[37m   [1m[35m// node -> left [0m[37m[1m[4m[35m对应的范围为[24m[0m[37m[1m[35m [l, (l + r)/2 - 1][0m[37m
[38;5;64m[48;5;235m+ [0m[37m 66     [30m[48;5;242m [0m[37m   [1m[35m// node -> right [0m[37m[1m[4m[35m对应的范围为[24m[0m[37m[1m[35m [(l + r)/2 + 1, r][0m[37m
[38;5;64m[48;5;235m+ [0m[37m 67     [30m[48;5;242m [0m[37m   dfs1[38;5;159m([0m[37mroot[38;5;159m,[0m[37m mapping[38;5;159m,[0m[37m [1m[36m0[0m[37m[38;5;159m,[0m[37m max_depth[38;5;159m)[0m[37m;
[38;5;64m[48;5;235m+ [0m[37m 68     [30m[48;5;242m [0m[37m   string default_str = [1m[36m"    "[0m[37m;
[38;5;64m[48;5;235m+ [0m[37m 69     [30m[48;5;242m [0m[37m   vector<vector<string>> visual_board[38;5;159m([0m[37mmax_depth + [1m[36m1[0m[37m[38;5;159m,[0m[37m vecto[1m[38;5;240m#[0m[37m[26;1H[38;5;64m[48;5;235m+ [0m[37m 70     [30m[48;5;242m [0m[37m   dfs2[38;5;159m([0m[37mroot[38;5;159m,[0m[37m mapping[38;5;159m,[0m[37m [1m[36m0[0m[37m[38;5;159m,[0m[37m pow[38;5;225m([0m[37m[1m[36m2[0m[37m[38;5;225m,[0m[37m max_depth + [1m[36m1[0m[37m[38;5;225m)[0m[37m - [1m[36m2[0m[37m[38;5;159m)[0m[37m;
[38;5;64m[48;5;235m+ [0m[37m 71     [30m[48;5;242m [0m[37m   [1m[38;5;64mfor[0m[37m[38;5;159m([0m[37m[1m[38;5;136mconst[0m[37m [1m[38;5;136mauto[0m[37m& node_info: mapping[38;5;159m)[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 72     [30m[48;5;242m [0m[37m   [38;5;159m{[0m[37m
[38;5;64m[48;5;235m+ [0m[37m 73     [30m[48;5;242m [0m[37m   [38;5;242m[40m [0m[37m   TreapNode *node = node_info.first;
[1m[38;5;230m[48;5;245m N…[30;4H  SPELL [0m[37m[38;5;245m[48;5;241m›[0m[37m[38;5;241m[48;5;235m›[0m[37m[38;5;240m[48;5;235m [0m[37m[1m 1:prob253_普通平衡树1.cpp  [0m[37m[38;5;240m[48;5;235m    [0m[37m[38;5;235m[48;5;235m‹[0m[37m[38;5;240m[48;5;235m cpp [0m[37m[38;5;241m[48;5;235m‹[0m[37m[38;5;245m[48;5;241m‹[0m[37m[38;5;230m[48;5;245m  17% [0m[37m[1m[38;5;230m[48;5;245m☰   62[0m[37m[38;5;230m[48;5;245m: 16 [18;22H[34h[?25h[31;1H[?1000l[0m[37m[39;49m[?1l>[?1049lVim: Error reading input, exiting...
Vim: Finished.
[31;1H[?1000h[34h[?25h[?1000l[J[23m[24m[0m